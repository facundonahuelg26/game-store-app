{"version":3,"file":"static/js/955.163e414b.chunk.js","mappings":"+PAEaA,EAAiBC,EAAAA,KAAaC,MAAM,CAC7CC,MAAOF,EAAAA,KACJG,SAAS,yCACTD,MAAM,2CACTE,SAAUJ,EAAAA,KACPG,SAAS,iCACTE,IAAI,EAAG,mDACPC,IAAI,MACJC,S,UCVMC,EAAa,CACtB,CACEC,GAAG,EACHC,KAAM,QACNC,KAAM,QACNC,YAAa,yBAEf,CACEH,GAAG,EACHC,KAAM,WACNC,KAAM,WACNC,YAAa,kB,iDCiEnB,EA9DkB,WAChB,OAA0BC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,SAA/CC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,MACVC,GAAWC,EAAAA,EAAAA,MACjB,GAAkCC,EAAAA,EAAAA,KAA3BC,EAAP,EAAOA,UAAWC,EAAlB,EAAkBA,aAEZC,GAAgBC,EAAAA,EAAAA,MAEtB,OACI,UAAC,KAAD,YACE,UAAC,KAAD,CAASC,UAAU,QAAnB,WACE,SAAC,KAAD,CAAiBC,UAAWV,EAC1BW,MAAM,oBACNC,MAAOC,EAAAA,EAAAA,KACPC,OAAO,kBACT,SAAC,KAAD,CACEC,cAAe,CACb7B,MAAO,GACPE,SAAU,IAEZ4B,iBAAkBjC,EAClBkC,SAAQ,mCAAE,WAAOC,EAAP,mFAAmBC,EAAnB,EAAmBA,aAAnB,SAGNjB,GAASkB,EAAAA,EAAAA,IAAU,CAAEnB,OAAO,KACxBoB,EAAQ,CACVnC,MAAOgC,EAAShC,MAChBE,SAAU8B,EAAS9B,UANf,UAQqBkC,EAAAA,EAAAA,IAAcD,EAAO,eAR1C,UAU0B,OAF1BE,EARA,QAUWC,WAVX,iBAWJC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUL,EAAaM,SAC9D3B,GAAS4B,EAAAA,EAAAA,IAAa,CAAC9B,QAAQ,KAC/B+B,OAAOC,SAASC,KAAO,qDAbnB,8BAeJ/B,GAASkB,EAAAA,EAAAA,IAAU,CAAEnB,OAAO,KAC5BwB,aAAaS,WAAW,aAClBX,EAjBF,0DAoBNY,QAAQC,IAAR,MACA9B,EAAa,KAAI+B,SArBX,0DAAF,wDANV,SA+BG,gBAAGC,EAAH,EAAGA,aAAH,OACC,UAAC,KAAD,CAAMrB,SAAUqB,EAAcC,UAAWhC,EAAzC,UACGf,EAAWgD,KAAI,SAACC,GAAD,OACd,SAAC,KAAD,CAA8B/B,UAAWV,EAAQyC,KAAMA,GAAlCA,EAAKhD,QAE5B,SAAC,KAAD,CAAYiB,UAAWV,EAAQc,OAAQ,qBAI7C,SAAC,KAAD,CAAaJ,UAAWV,EAAQc,OAAO,eACrCF,MAAOC,EAAAA,EAAAA,cAEVZ,IAAS,SAAC,KAAD,UAASI","sources":["pages/login/validations/validations.js","pages/login/helpers/index.js","pages/login/Login.js"],"sourcesContent":["import * as Yup from \"yup\";\r\n\r\nexport const isLoggedSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n      .required(\"El correo electrónico es requerido\")\r\n      .email(\"Escribe un correo electrónico valido\"),\r\n    password: Yup.string()\r\n      .required(\"La contraseña es requerida\")\r\n      .min(5, 'La contraseña debe tener mas de 4 caracteres')\r\n      .max(1024)\r\n      .trim(),\r\n  });","export const dataHelper = [\r\n    {\r\n      id:1,\r\n      name: \"email\",\r\n      type: \"email\",\r\n      placeholder: \"Correo Electrónico\",\r\n    },\r\n    {\r\n      id:2,\r\n      name: \"password\",\r\n      type: \"password\",\r\n      placeholder: \"Contraseña\",\r\n    }\r\n  ];\r\n  ","import React from \"react\";\r\nimport { loginSuccess, loginFail} from \"../../store\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Formik, Form } from \"formik\";\r\nimport {Container, Wrapper, Errors} from \"../../styled-components\";\r\nimport { isLoggedSchema } from \"./validations/validations\";\r\nimport { createService } from \"../../service\";\r\nimport { dataHelper } from \"./helpers/index\";\r\nimport { usePreventSubmit } from \"../../hooks\";\r\nimport {TitleAndLinkOne, FieldFormInput, LinkTwoForm, ButtonForm } from \"../../components/form\";\r\nimport { routes } from \"../../router\";\r\nimport { useErrorTime } from \"../../hooks/useErrorTime\";\r\n\r\n\r\nconst LoginPage = () => {\r\n  const { isAuth, error } = useSelector((state) => state.login);\r\n  const dispatch = useDispatch();\r\n  const {textError, setTextError} = useErrorTime();\r\n\r\n  const handleKeyDown = usePreventSubmit()\r\n  \r\n  return (\r\n      <Container>\r\n        <Wrapper marginTop=\"200px\">\r\n          <TitleAndLinkOne condition={isAuth} \r\n            title='Iniciar sesión' \r\n            route={routes.home}\r\n            myText='Ir al Inicio'/>\r\n          <Formik\r\n            initialValues={{\r\n              email: \"\",\r\n              password: \"\",\r\n            }}\r\n            validationSchema={isLoggedSchema}\r\n            onSubmit={async (myvalues, { resetForm }) => {\r\n              resetForm();\r\n              try {\r\n                dispatch(loginFail({ error: false }));\r\n                let value = {\r\n                  email: myvalues.email,\r\n                  password: myvalues.password,\r\n                };\r\n                const userReceived = await createService(value, \"auth/signin\");\r\n\r\n                if (userReceived.statuscode === 201) {\r\n                  localStorage.setItem('accessJWT', JSON.stringify(userReceived.result))\r\n                  dispatch(loginSuccess({isAuth: true}));\r\n                  window.location.href = ' https://facundonahuelg26.github.io/game-store-app'\r\n                } else {\r\n                  dispatch(loginFail({ error: true }));\r\n                  localStorage.removeItem('accessJWT')\r\n                  throw userReceived;\r\n                }\r\n              } catch (err) {\r\n                console.log(err);\r\n                setTextError(err.message)\r\n              }\r\n            }}\r\n          >\r\n            {({ handleSubmit }) => (\r\n              <Form onSubmit={handleSubmit} onKeyDown={handleKeyDown}>\r\n                {dataHelper.map((item) => (\r\n                  <FieldFormInput key={item.id} condition={isAuth} item={item} />\r\n                ))}\r\n                <ButtonForm condition={isAuth} myText={'Siguiente'} />\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n          <LinkTwoForm condition={isAuth} myText='Crear Cuenta'\r\n            route={routes.register} />\r\n        </Wrapper>\r\n        {error && <Errors>{textError}</Errors>}\r\n      </Container>\r\n  );\r\n};\r\n\r\nexport default LoginPage;"],"names":["isLoggedSchema","Yup","shape","email","required","password","min","max","trim","dataHelper","id","name","type","placeholder","useSelector","state","login","isAuth","error","dispatch","useDispatch","useErrorTime","textError","setTextError","handleKeyDown","usePreventSubmit","marginTop","condition","title","route","routes","myText","initialValues","validationSchema","onSubmit","myvalues","resetForm","loginFail","value","createService","userReceived","statuscode","localStorage","setItem","JSON","stringify","result","loginSuccess","window","location","href","removeItem","console","log","message","handleSubmit","onKeyDown","map","item"],"sourceRoot":""}